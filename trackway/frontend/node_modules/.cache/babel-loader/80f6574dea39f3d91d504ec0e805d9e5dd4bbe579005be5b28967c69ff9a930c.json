{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Sajal khandelwal/Desktop/Trackway/trackway/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Sajal khandelwal/Desktop/Trackway/trackway/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Sajal khandelwal/Desktop/Trackway/trackway/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Sajal khandelwal/Desktop/Trackway/trackway/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Sajal khandelwal/Desktop/Trackway/trackway/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from\"react\";import'./Create.css';import{BASE_URL}from\"../Utilis/config.js\";import{AuthContext}from\"../context/AuthContext.js\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Create=function Create(){var _useContext=useContext(AuthContext),user=_useContext.user;var _useState=useState({userId:user&&user._id,userEmail:user&&user.email,title:\"\",city:\"\",contact:\"\",client:\"\",// photo:\"\",\ndistance:\"\",maxGroupSize:\"\",price:\"\",photo:\"/tour-images/tour-img04.jpg\",date:\"\"}),_useState2=_slicedToArray(_useState,2),CreateTour=_useState2[0],setCreateTour=_useState2[1];var handleChange=function handleChange(e){setCreateTour(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},e.target.id,e.target.value));});console.log(\"In here setcreatetour\");console.log(setCreateTour);};var handleCreate=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var res,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;if(!user||user===undefined||user===null){alert(\"Please Sign in\");}_context.next=5;return fetch(\"\".concat(BASE_URL,\"/tours\"),{method:'post',headers:{'content-type':'application/json'},credentials:'include',body:JSON.stringify(CreateTour)});case 5:res=_context.sent;_context.next=8;return res.json();case 8:result=_context.sent;if(res.ok){_context.next=11;break;}return _context.abrupt(\"return\",alert(result.message));case 11:console.log(\"In try create frontend\");_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](1);console.log(\"Error in here frontend\");alert(_context.t0.message);case 18:case\"end\":return _context.stop();}},_callee,null,[[1,14]]);}));return function handleCreate(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"CreateFrom\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-xs-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"client\",children:\"Client\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"client\",onChange:handleChange,placeholder:\"Client\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-xs-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Title\",children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"title\",onChange:handleChange,placeholder:\"City\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-xs-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputPassword4\",children:\"State\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"city\",onChange:handleChange,placeholder:\"State\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group \",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputAddress2\",children:\"Distance\"}),/*#__PURE__*/_jsx(\"input\",{style:{height:\"35px\",width:\"150px\"},type:\"number\",className:\"form-control\",id:\"distance\",onChange:handleChange,placeholder:\"Distance\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group \",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputAddress2\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{style:{height:\"35px\",width:\"150px\"},type:\"date\",className:\"form-control\",id:\"date\",onChange:handleChange,placeholder:\"Date\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-row col-xs-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-xs-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"MaxGroup\",children:\"MaxLuggage\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"MaxLuggage\",id:\"maxGroupSize\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Description\",onChange:handleChange,id:\"desc\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-xs-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Price\",onChange:handleChange,id:\"price\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-xs-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",placeholder:\"Contact\",onChange:handleChange,id:\"contact\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group col-md-4 upload-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"photo\",children:\"Choose an Image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"form-control\",id:\"photo\",onChange:handleChange})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCreate,type:\"submit\",onChange:handleChange,className:\"btn btn-primary\",children:\"Create\"})]})})});};export default Create;","map":{"version":3,"names":["React","useState","useContext","BASE_URL","AuthContext","Create","user","userId","_id","userEmail","email","title","city","contact","client","distance","maxGroupSize","price","photo","date","CreateTour","setCreateTour","handleChange","e","prev","target","id","value","console","log","handleCreate","preventDefault","undefined","alert","fetch","method","headers","credentials","body","JSON","stringify","res","json","result","ok","message","height","width"],"sources":["C:/Users/Sajal khandelwal/Desktop/Trackway/trackway/frontend/src/pages/Create.jsx"],"sourcesContent":["import React, { useState,useContext} from \"react\";\r\nimport './Create.css'\r\nimport { BASE_URL } from \"../Utilis/config.js\"\r\nimport { AuthContext } from \"../context/AuthContext.js\"\r\n\r\nconst Create = () => {\r\n\r\n  const {user} = useContext(AuthContext);\r\n\r\n  const [CreateTour, setCreateTour] = useState({\r\n\r\n    userId: user && user._id,\r\n    userEmail:user && user.email,\r\n    title : \"\",\r\n    city:\"\",\r\n    contact:\"\",\r\n    client:\"\",\r\n    // photo:\"\",\r\n    distance:\"\",\r\n    maxGroupSize:\"\",\r\n    price:\"\",\r\n    photo:\"/tour-images/tour-img04.jpg\",\r\n    date:\"\",\r\n  \r\n   \r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    setCreateTour((prev) => ({ ...prev, [e.target.id]: e.target.value }));\r\n    console.log(\"In here setcreatetour\");\r\n    console.log(setCreateTour);\r\n  };\r\n\r\n  const handleCreate = async (e) => {\r\n\r\n    e.preventDefault();\r\n\r\n    try {\r\n      if(!user|| user===undefined || user===null) {\r\n        alert(\"Please Sign in\")\r\n      }\r\n     \r\n          const res  = await fetch(`${BASE_URL}/tours`,{\r\n          method:'post',\r\n          headers:{\r\n            'content-type':'application/json'\r\n          },\r\n          credentials:'include',\r\n          body:JSON.stringify(CreateTour) \r\n         })\r\n         \r\n         const result = await res.json();\r\n         if(!res.ok)  {\r\n         return alert(result.message)\r\n         } \r\n         console.log(\"In try create frontend\")\r\n         \r\n    } catch (err) {\r\n      console.log(\"Error in here frontend\")\r\n      alert(err.message)\r\n    }\r\n  };\r\n\r\n  return (\r\n   <>\r\n   <div className='CreateFrom'>\r\n   <form >\r\n  <div className=\"form-row\">\r\n\r\n  <div className=\"form-group col-xs-2\">\r\n      <label htmlFor=\"client\">Client</label>\r\n      <input type=\"text\" className=\"form-control\" id=\"client\"  onChange={handleChange} placeholder=\"Client\"/>\r\n    </div>\r\n\r\n\r\n    <div className=\"form-group col-xs-2\">\r\n      <label htmlFor=\"Title\">City</label>\r\n      <input type=\"text\" className=\"form-control\" id=\"title\"  onChange={handleChange} placeholder=\"City\"/>\r\n    </div>\r\n\r\n      {/* Id change city state title  */}\r\n      \r\n    <div className=\"form-group col-xs-2\">\r\n      <label htmlFor=\"inputPassword4\">State</label>\r\n      <input type=\"text\" className=\"form-control\" id=\"city\"  onChange={handleChange} placeholder=\"State\"/>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  {/* <div className=\"form-group col-xs-2 \">\r\n    <label htmlFor=\"inputAddress\">Address</label>\r\n    <input type=\"text\" className=\"form-control\" id=\"address\" onChange={handleChange}\r\n    placeholder=\"Sydeny , Australia\"/>\r\n  </div> */}\r\n\r\n  <div className=\"form-group \">\r\n    <label htmlFor=\"inputAddress2\">Distance</label>\r\n    <input style={{height:\"35px\" , width:\"150px\"}} type=\"number\" className=\"form-control\" id=\"distance\"  onChange={handleChange} placeholder=\"Distance\"/>\r\n  </div>\r\n\r\n  <div className=\"form-group \">\r\n    <label htmlFor=\"inputAddress2\">Date</label>\r\n    <input style={{height:\"35px\" , width:\"150px\"}} type=\"date\" className=\"form-control\" id=\"date\" onChange={handleChange} placeholder=\"Date\"/>\r\n  </div>\r\n\r\n  <div className=\"form-row col-xs-2\">\r\n    <div className=\"form-group col-xs-2\">\r\n      <label htmlFor=\"MaxGroup\">MaxLuggage</label>\r\n      <input type=\"number\" className=\"form-control\" placeholder=\"MaxLuggage\" id=\"maxGroupSize\" onChange={handleChange} />\r\n    </div>\r\n\r\n    <div className=\"form-group col-md-6\">\r\n      <label htmlFor=\"Description\">Description</label>\r\n      <input type=\"text\" className=\"form-control\" placeholder=\"Description\" onChange={handleChange} id=\"desc\"/>\r\n    </div>\r\n\r\n    <div className=\"form-group col-xs-2\">\r\n      <label htmlFor=\"price\">Price</label>\r\n      <input type=\"number\" className=\"form-control\" placeholder=\"Price\" onChange={handleChange} id=\"price\"/>\r\n    </div>\r\n\r\n    <div className=\"form-group col-xs-2\">\r\n      <label htmlFor=\"price\">Contact</label>\r\n      <input type=\"number\" className=\"form-control\" placeholder=\"Contact\" onChange={handleChange} id=\"contact\"/>\r\n    </div>\r\n \r\n    {/* Image  */}\r\n    \r\n    <div className=\"form-group col-md-4 upload-form\">\r\n    <label htmlFor=\"photo\">Choose an Image</label>\r\n    <input type=\"file\" className=\"form-control\" id=\"photo\" onChange={handleChange}/>\r\n    </div>\r\n\r\n\r\n    {/* <div className=\"form-group col-md-4\">\r\n      <label htmlFor=\"inputState\">Add Image</label>\r\n      <select id=\"Image\" className=\"form-control\">\r\n        <option selected>Drop Here</option>\r\n        <option>Add Files</option>\r\n        <option>\r\n        <label htmlFor=\"image\">Choose an image:</label>\r\n        <input type=\"file\" name=\"image\"  onChange={handleChange} id=\"image\" accept=\"image/*\"/>\r\n        <br/>\r\n        <input type=\"submit\" value=\"Upload\"/>\r\n        </option>\r\n      </select>\r\n    </div>\r\n   */}\r\n\r\n  </div>\r\n\r\n  <div className=\"form-group\">\r\n  </div>\r\n\r\n  <button onClick={handleCreate} type=\"submit\" onChange={handleChange} className=\"btn btn-primary\">\r\n    Create</button>\r\n\r\n</form>\r\n</div>\r\n\r\n{/* <div className='mb-70'></div> */}\r\n\r\n</>\r\n  )\r\n}\r\n\r\nexport default Create"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}